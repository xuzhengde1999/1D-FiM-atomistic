% developed by Kaiming
% modified by Zhifeng
%I=10;t=0.1; %default for testing, please use the calculated values and remove this line
% Io=10 mA
%testt: if this run is for testing
% I unit mA t unit ns
function output=Temperature(I,t,testt)
ratio=(I/10).^2;

Temperature_time=[0	300
0.1	300.59363
0.2	301.14467
0.3	301.65618
0.4	302.13099
0.5	302.57174
0.6	302.98086
0.7	303.36064
0.8	303.71317
0.9	304.04041
1	304.34418
1.1	304.62615
1.2	304.88789
1.3	305.13086
1.4	305.35639
1.5	305.56574
1.6	305.76008
1.7	305.94047
1.8	306.10792
1.9	306.26336
2	306.40765
2.1	306.54158
2.2	306.66591
2.3	306.78132
2.4	306.88844
2.5	306.98789
2.6	307.0802
2.7	307.16588
2.8	307.24542
2.9	307.31925
3	307.38779
3.1	307.45141
3.2	307.51046
3.3	307.56528
3.4	307.61617
3.5	307.6634
3.6	307.70725
3.7	307.74795
3.8	307.78573
3.9	307.8208
4	307.85335
4.1	307.88357
4.2	307.91162
4.3	307.93766
4.4	307.96183
4.5	307.98427
4.6	308.00509
4.7	308.02443
4.8	308.04237
4.9	308.05903
5	308.07449
5.1	308.08885
5.2	307.50854
5.3	306.96987
5.4	306.46985
5.5	306.00569
5.6	305.57484
5.7	305.17489
5.8	304.80364
5.9	304.45902
6	304.13912
6.1	303.84218
6.2	303.56653
6.3	303.31067
6.4	303.07316
6.5	302.85268
6.6	302.64803
6.7	302.45806
6.8	302.28171
6.9	302.11802
7	301.96607
7.1	301.82502
7.2	301.69409
7.3	301.57256
7.4	301.45974
7.5	301.35502
7.6	301.25781
7.7	301.16757
7.8	301.08381
7.9	301.00605
8	300.93388
8.1	300.86688
8.2	300.80469
8.3	300.74696
8.4	300.69337
8.5	300.64363
8.6	300.59745
8.7	300.55459
8.8	300.5148
8.9	300.47787
9	300.44359
9.1	300.41177
9.2	300.38222
9.3	300.3548
9.4	300.32935
9.5	300.30572
9.6	300.28379
9.7	300.26343
9.8	300.24453
9.9	300.22699
10	300.2107
10.1	300.19559];

output=interp1(Temperature_time(:,1),ratio*(Temperature_time(:,2)-Temperature_time(1,2)),t,'spline');
if testt
plot(Temperature_time(:,1),ratio*(Temperature_time(:,2)-Temperature_time(1,2)),'b--')
hold on
plot(t,output,'ro');
legend([num2str(I),'mA ',num2str(t),'ns'])
grid on
xlabel('Time (ns)');
ylabel('Delta T (K)')
hold off
end